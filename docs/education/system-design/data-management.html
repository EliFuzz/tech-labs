<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-education/system-design/data-management" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Data Management | Tech Labs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://EliFuzz.github.io/tech-labs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://EliFuzz.github.io/tech-labs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://EliFuzz.github.io/tech-labs/docs/education/system-design/data-management"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Data Management | Tech Labs"><meta data-rh="true" name="description" content="Data Management  Design Patterns"><meta data-rh="true" property="og:description" content="Data Management  Design Patterns"><link data-rh="true" rel="icon" href="/tech-labs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://EliFuzz.github.io/tech-labs/docs/education/system-design/data-management"><link data-rh="true" rel="alternate" href="https://EliFuzz.github.io/tech-labs/docs/education/system-design/data-management" hreflang="en"><link data-rh="true" rel="alternate" href="https://EliFuzz.github.io/tech-labs/docs/education/system-design/data-management" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://W90HZ26JR6-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Tech Labs" href="/tech-labs/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/tech-labs/assets/css/styles.a12c4a8a.css">
<script src="/tech-labs/assets/js/runtime~main.5c9f775e.js" defer="defer"></script>
<script src="/tech-labs/assets/js/main.5cfe59c7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_UOy2" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/tech-labs/"><div class="navbar__logo"><img src="/tech-labs/img/logo.svg" alt="Tech Labs Logo" class="themedComponent_UqTf themedComponent--light_DBg9"><img src="/tech-labs/img/logo.svg" alt="Tech Labs Logo" class="themedComponent_UqTf themedComponent--dark_B9xw"></div><b class="navbar__title text--truncate">Tech Labs</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="study" href="/tech-labs/docs/education/system-design/data-management">ðŸŽ“ Study</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/tech-labs/docs/roadmap/overview">ðŸŽ¯ Roadmap</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tech-labs/docs/category/computer-science">ðŸ“– Education</a></li><li><a class="dropdown__link" href="/tech-labs/docs/preparation/talent-acquisition">ðŸ‘” Preparation</a></li></ul></div><a class="navbar__item navbar__link" href="/tech-labs/toolset">ðŸ§¬ Toolset</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/EliFuzz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VMv9"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_StBz colorModeToggle_Yp2V"><button class="clean-btn toggleButton_mXkG toggleButtonDisabled_WYgC" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_bvsi"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Ex41"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_goF8"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_pU2W"><div class="docsWrapper_Z3PG"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_oeGc" type="button"></button><div class="docRoot_uVRT"><aside class="theme-doc-sidebar-container docSidebarContainer_Yr_p"><div class="sidebarViewport_Axfg"><div class="sidebar_A8Je"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_vcUU"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tech-labs/docs/category/computer-science">Computer Science</a><button aria-label="Expand sidebar category &#x27;Computer Science&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tech-labs/docs/category/programming-languages">Programming Languages</a><button aria-label="Expand sidebar category &#x27;Programming Languages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tech-labs/docs/category/software-development">Software Development</a><button aria-label="Expand sidebar category &#x27;Software Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/tech-labs/docs/category/system-design">System Design</a><button aria-label="Collapse sidebar category &#x27;System Design&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/visualization">Diagram Visualization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/clean-code">Clean Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/gof">Gangs of Four (GoF)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/microservices">Microservices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/enterprise">Enterprise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/kubernetes">Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/architectural-styles">Architectural Styles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/communication-patterns">Communication Patterns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/traffic-management">Traffic Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tech-labs/docs/education/system-design/data-management">Data Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/design-principles">Design Principles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tech-labs/docs/education/system-design/real-world">Real World Examples</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_BRs6"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_Fpj9"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_bdQh"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col"><div class="docItemContainer_tm6u"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_CCxx" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/tech-labs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ZrdC"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tech-labs/docs/category/system-design"><span itemprop="name">System Design</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Data Management</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>Data Management</h1></header><h2 class="anchor anchorWithStickyNavbar_GmVd" id="theorems">Theorems<a class="hash-link" aria-label="Direct link to Theorems" title="Direct link to Theorems" href="/tech-labs/docs/education/system-design/data-management#theorems">â€‹</a></h2>
<div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__item--active">CAP</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">PACELC</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__vertical tabs__item--active">Overview</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Detailed</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><ul>
<li><strong>Consistency (C)</strong>: Ensures that all nodes in the system have the same data at the same time</li>
<li><strong>Availability (A)</strong>: Ensures that every request gets a response about whether it was successful or failed</li>
<li><strong>Partition Tolerance (P)</strong>: Ensures that the system continues to operate despite network partitions or communication failures</li>
</ul></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th>AP (Availability &amp; Partition Tolerance)</th><th>CA (Consistency &amp; Availability)</th><th>CP (Consistency &amp; Partition Tolerance)</th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td><td></td><td></td></tr><tr><td><b>Definition</b></td><td>Some data may not be consistent</td><td>Network issues might stop the system</td><td>Some data might not be available when a failure happens</td></tr><tr><td><b>Use Cases</b></td><td>Social networks, real-time analytics, recommendation systems</td><td>Financial applications, e-commerce</td><td>Multi-datacenter deployments</td></tr><tr><td><b>Examples</b></td><td>Cassandra, DynamoDB, Riak</td><td>Google Spanner, RDBMS with high availability configurations</td><td>MongoDB with replica sets, BigTable</td></tr></tbody></table></div></div></div></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__vertical tabs__item--active">Overview</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Detailed</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Theorem</th><th>Scope</th><th>Consistency Model</th><th>Latency Consideration</th></tr></thead><tbody><tr><td><b>CAP</b></td><td>Focuses on impact of network partitions on consistency and availability</td><td>Binary choice between strong consistency and availability</td><td>Doesn&#x27;t explicitly consider latency</td></tr><tr><td><b>PACELC</b></td><td>Broader view, acknowledging trade-offs present even under normal operation</td><td>Consistency is treated as a spectrum, offering more nuanced options</td><td>Recognizes latency as a critical factor alongside consistency and availability (data replication can impact latency)</td></tr></tbody></table></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_GmVd" id="distributed-unique-identifiers">Distributed Unique Identifiers<a class="hash-link" aria-label="Direct link to Distributed Unique Identifiers" title="Direct link to Distributed Unique Identifiers" href="/tech-labs/docs/education/system-design/data-management#distributed-unique-identifiers">â€‹</a></h2>
<table class="text_vertical"><thead><tr><th>Type</th><th style="min-width:350px">Structure</th><th>Example</th><th>Features</th><th>Use Cases</th></tr></thead><tbody><tr><td><b>MongoDB ObjectID</b></td><td><ul><li><span style="color:#f06292">Timestamp in seconds (4 bytes)</span></li><li><span style="color:#64b5f6">Process ID (5 bytes)</span></li><li><span style="color:#4dd0e1">Incrementing Counter (3 bytes)</span></li></ul></td><td><span style="color:#f06292">6522bfc8</span>-<span style="color:#64b5f6">6abf1a160a</span>-<span style="color:#4dd0e1">16a83e</span></td><td><ul><li>Total: 96 bits (16.7m ID/sec)</li><li>Hexadecimal</li><li>Unix timestamps</li><li>Ordered</li></ul></td><td><ul><li>Internal document identifiers in MongoDB</li></ul></td></tr><tr><td><b>Nano ID</b></td><td>Characters: <code>A-Za-z0-9_-</code></td><td>TZOb75IqNux-DuSLisVDp</td><td><ul><li>Total: 126 bits</li><li>Customizable</li><li>URL friendly</li><li>Randomness</li></ul></td><td><ul><li>Short, URL-friendly identifiers</li></ul></td></tr><tr><td><b>Sequence</b></td><td></td><td>88</td><td><ul><li>Incremental</li><li>Decimal</li><li>Human readable</li></ul></td><td><ul><li>Simple counters</li><li>Primary keys</li></ul></td></tr><tr><td><b>Sonyflake</b></td><td><ul><li><span style="color:#f06292">Sign-bit (unused)</span></li><li><span style="color:#64b5f6">Timestamp: 10 milliseconds (39 bits)</span></li><li><span style="color:#4dd0e1">Counter (8 bits)</span></li><li><span style="color:#e57373">Machine ID (16 bits)</span></li></ul></td><td><span style="color:#f06292">0</span>-<span style="color:#64b5f6">000011010110000100110111000001110001101</span>-<span style="color:#4dd0e1">00000000</span>-<span style="color:#e57373">0000000000000001</span></td><td><ul><li>Total: 64 bits (256 ID/10 ms)</li><li>~174 years</li><li>Decimal</li><li>Distributed</li></ul></td><td><ul><li>Unique identifiers across distributed systems</li></ul></td></tr><tr><td><b>Twitter Snowflake</b></td><td><ul><li><span style="color:#f06292">Sign-bit (unused)</span></li><li><span style="color:#64b5f6">Timestamp in milliseconds (41 bits)</span></li><li><span style="color:#4dd0e1">Data Center ID (5 bits)</span></li><li><span style="color:#e57373">Machine ID (5 bits)</span></li><li><span style="color:#7e57c2">Incrementing Counter (12 bits)</span></li></ul></td><td><span style="color:#f06292">0</span>-<span style="color:#64b5f6">00101111011111011010110100111101110001111</span>-<span style="color:#4dd0e1">00000</span>-<span style="color:#e57373">00001</span>-<span style="color:#7e57c2">000000000000</span></td><td><ul><li>Total: 64 bits (4096 ID/ms)</li><li>~70 years</li><li>Decimal</li><li>Distributed</li></ul></td><td><ul><li>Unique identifiers across distributed systems</li></ul></td></tr><tr><td><b>Universally Unique Identifier (UUID)</b></td><td><ul><li><span style="color:#f06292">time_low (4 bytes)</span></li><li><span style="color:#64b5f6">time_mid (2 bytes)</span></li><li><span style="color:#e57373">version</span> &amp; <span style="color:#4dd0e1">time_hi</span> (2 bytes)</li><li><span style="color:#f06292">clock_seq_hi_&amp;_res (2 bytes)</span></li><li><span style="color:#7e57c2">MAC Address (6 bytes)</span></li></ul></td><td><span style="color:#f06292">d6e9ec10</span>-<span style="color:#64b5f6">65e2</span>-<span style="color:#e57373">1</span><span style="color:#4dd0e1">1ee</span>-<span style="color:#f06292">97a0</span>-<span style="color:#7e57c2">3eb31bb9ccfe</span></td><td><ul><li>Total: 128 bits</li><li>Timestamp (depends on version)</li><li>Low collision</li><li><p>Types</p><ul><li><strong>v1</strong>: Current Time + MAC address</li><li><strong>v2</strong>: Version 1 + extra info (like user/group ID)</li><li><strong>v3</strong>: MD5 hash of namespace + string</li><li><strong>v4</strong>: Pure random</li><li><strong>v5</strong>: SHA-1 hash of namespace + string</li></ul></li></ul></td><td><ul><li>Suitable for various systems and interoperability</li><li>May not be optimized for distributed systems</li></ul></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_GmVd" id="data-synchronization--distribution-mechanisms">Data Synchronization &amp; Distribution Mechanisms<a class="hash-link" aria-label="Direct link to Data Synchronization &amp; Distribution Mechanisms" title="Direct link to Data Synchronization &amp; Distribution Mechanisms" href="/tech-labs/docs/education/system-design/data-management#data-synchronization--distribution-mechanisms">â€‹</a></h2>
<div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__item--active">Sharding/Partitioning</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Replication</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__vertical tabs__item--active">Overview</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Strategies</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><p>Database sharding splits a large database across machines for better handling of massive datasets.</p><h3 class="anchor anchorWithStickyNavbar_GmVd" id="benefits">Benefits<a class="hash-link" aria-label="Direct link to Benefits" title="Direct link to Benefits" href="/tech-labs/docs/education/system-design/data-management#benefits">â€‹</a></h3><ul>
<li>Improve response time</li>
<li>Avoid total service outage</li>
<li>Scale efficiently</li>
</ul></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Type</th><th style="min-width:350px">Visualization</th><th>Definition</th><th>Use Cases</th></tr></thead><tbody><tr><td><b>Consistent Hashing</b></td><td></td><td>Distributes data across a dynamic number of partitions using a hash function</td><td>Distributed databases, Content Delivery Networks (CDNs)</td></tr><tr><td><b>Directory Based Sharding</b></td><td></td><td>Central directory maps data to specific shards based on predefined rules</td><td>Strong consistency and moderate scalability</td></tr><tr><td><b>Geo Sharding</b></td><td></td><td>Divides data based on geographic regions to localize data access</td><td>Applications requiring regional data localization or geo-distributed databases</td></tr><tr><td><b>Horizontal Partitioning (Sharding)</b></td><td></td><td>Data is partitioned across multiple databases or shards based on a certain criterion such as user ID, timestamp</td><td>High data volume and scalability requirements</td></tr><tr><td><b>Key-Based Sharding</b></td><td></td><td>Data is distributed across shards based on a predefined key</td><td>Predictable access patterns and high scalability requirements</td></tr><tr><td><b>Range-Based Sharding</b></td><td></td><td>Divides data into ranges (numeric ranges, alphabetical ranges) and assigns each range to a shard</td><td>Range-based queries and moderate scalability requirements. Time-series data or data with a sequential range</td></tr><tr><td><b>Vertical Partitioning</b></td><td></td><td>Segregates data vertically based on attributes or columns</td><td>Specific data access patterns and less dynamic schemas</td></tr><tr><td><b>Materialized Views</b></td><td></td><td><p>Precomputed views for faster query performance</p><p>Pros:</p><ul><li>Improved query performance</li></ul><p>Cons:</p><ul><li>Overhead in maintaining materialized views, potential staleness</li></ul><p>Considerations:</p><ul><li>View maintenance and update strategies</li><li>Consistency with underlying data changes</li><li>Refresh policies and scheduling</li><li>Impact on write performance and storage requirements</li></ul></td><td><ul><li>Aggregated queries</li><li>Report generation</li></ul></td></tr></tbody></table></div></div></div></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__vertical tabs__item--active">Overview</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Types</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Methods</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">CDC</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Strategies</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Conflict Resolutions</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><p>Database replication is the process of duplicating data from one database to another, ensuring that multiple copies of the same data are available across different locations or systems. This redundancy enhances data availability, fault tolerance, and scalability</p><h3 class="anchor anchorWithStickyNavbar_GmVd" id="benefits-1">Benefits<a class="hash-link" aria-label="Direct link to Benefits" title="Direct link to Benefits" href="/tech-labs/docs/education/system-design/data-management#benefits-1">â€‹</a></h3><ul>
<li>
<p><strong>Durability</strong></p>
<ul>
<li>Replication enhances durability, preventing catastrophic data loss</li>
<li>It ensures data preservation across multiple servers</li>
<li>Replication, alongside backups, minimizes data loss windows and downtime</li>
</ul>
</li>
<li>
<p><strong>Availability</strong></p>
<ul>
<li>Replication boosts system availability and resilience</li>
<li>It enables seamless failover to standby servers</li>
<li>Without replication, server outages could cause prolonged downtime</li>
</ul>
</li>
<li>
<p><strong>Increasing Throughput</strong></p>
<ul>
<li>Replication spreads load across nodes, boosting throughput</li>
<li>Additional replicas can be added for further scalability</li>
<li>Proper management avoids replication overhead bottlenecks</li>
</ul>
</li>
<li>
<p><strong>Reducing Latency</strong></p>
<ul>
<li>Replication brings data closer to users, reducing latency</li>
<li>Shorter network distance leads to faster response times</li>
<li>Multi-region replication improves user experience and productivity</li>
</ul>
</li>
</ul></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th>Full Table Replication</th><th>Key-based Incremental Replication</th><th>Log-based Incremental Replication</th><th>Trigger-based Replication</th><th>Snapshot Replication</th></tr></thead><tbody><tr><td><b>Overview</b></td><td>Replicates entire tables</td><td>Replicates only changed rows based on key values</td><td>Replicates changes based on transaction logs</td><td>Replicates changes based on triggers</td><td>Replicates a point-in-time copy of data</td></tr><tr><td><b>Data Volume / Network Bandwidth Usage</b></td><td>High</td><td>Moderate</td><td>Low</td><td>Moderate</td><td>High</td></tr><tr><td><b>Use Cases</b></td><td>Data Warehousing, Reporting</td><td>Synchronizing specific datasets between databases</td><td>Replicating changes from a primary to secondary database</td><td>Replicating changes between databases with complex business logic</td><td>Creating backups for disaster recovery</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table class="text_vertical"><thead><tr><th>Method</th><th style="min-width:350px">Visualization</th><th>Definition</th><th>Pros</th><th>Cons</th><th>Use Cases</th></tr></thead><tbody><tr><td><b>Bi-Directional</b></td><td></td><td>Data flows bidirectionally between source and target databases, allowing updates in both directions</td><td><ul><li>High availability and fault tolerance</li><li>Improved performance for distributed applications</li></ul></td><td><ul><li>Complexity in conflict resolution</li><li>Increased risk of data inconsistencies</li></ul></td><td><ul><li>Multi-site collaboration</li><li>Active-active data centers</li><li>Real-time data synchronization</li></ul></td></tr><tr><td><b>Broadcast</b></td><td></td><td>Data from a single source is replicated to multiple targets simultaneously</td><td><ul><li>Scalability for large-scale distribution</li><li>Reduced network traffic</li></ul></td><td><ul><li>Limited support for bidirectional data flows</li><li>Potential for data redundancy</li></ul></td><td><ul><li>Mass data distribution</li><li>Real-time data broadcasting</li></ul></td></tr><tr><td><b>Cascading</b></td><td></td><td>Replication is chained in a cascade, where changes propagate sequentially through multiple tiers of databases</td><td><ul><li>Flexibility in data routing and transformation</li><li>Enhanced security through layered replication</li></ul></td><td><ul><li>Increased complexity in setup and maintenance</li><li>Potential for latency and synchronization issues</li></ul></td><td><ul><li>Hierarchical data distribution</li><li>Data transformation and filtering</li><li>Data distribution across geographical regions</li></ul></td></tr><tr><td><b>Consolidation</b></td><td></td><td>Data from multiple sources is consolidated into a single target database</td><td><ul><li>Simplified data management</li><li>Reduced storage and infrastructure costs</li></ul></td><td><ul><li>Risk of data loss if not implemented properly</li><li>Increased latency for distributed queries</li></ul></td><td><ul><li>Data warehousing</li><li>Centralized reporting</li><li>Data aggregation</li></ul></td></tr><tr><td><b>Peer-to-Peer</b></td><td></td><td>All databases are peers and can act as both a source and a target. Data can flow between any pair of databases</td><td><ul><li>Enhanced fault tolerance and scalability</li><li>Flexibility in data routing</li></ul></td><td><ul><li>Complexity in configuration and maintenance</li><li>Potential for network congestion and data conflicts</li></ul></td><td><ul><li>Decentralized applications</li><li>Collaborative editing environments</li><li>Distributed systems</li></ul></td></tr><tr><td><b>Unidirectional</b></td><td></td><td>Data flows in one direction from source to target databases</td><td><ul><li>Simplicity in setup</li><li>Reduced risk of conflicts</li></ul></td><td><ul><li>Limited scalability for distributed systems</li><li>Potential for data latency</li></ul></td><td><ul><li>Reporting and analytics</li><li>Disaster recovery</li><li>Load balancing</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><p><strong>Change Data Capture (CDC)</strong>: Captures changes in real-time as they occur at the source database</p><table><thead><tr><th>Aspect</th><th>Transactional CDC</th><th>Batch-Optimized CDC</th><th>Data Warehouse Ingest-Merge</th><th>Message-Encoded CDC</th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td><td></td><td></td><td></td></tr><tr><td><b>Definition</b></td><td>Captures changes in real-time as they occur at the source database</td><td>Captures changes in bulk at specific intervals, rather than in real-time</td><td>Ingests and merges data from multiple sources into a data warehouse</td><td>Encodes changes into messages for asynchronous processing and consumption</td></tr><tr><td><b>Performance</b></td><td>Real-time, minimal latency for data replication</td><td>High throughput, reduced impact on source systems due to batch processing</td><td>Typically batch-oriented, suitable for large-scale data movement</td><td>Depends on message broker performance; can be asynchronous, may introduce latency</td></tr><tr><td><b>Data Consistency</b></td><td>Ensures consistency between source and target systems in near real-time</td><td>Data consistency may lag behind real-time due to batch processing</td><td>May require additional checks to maintain consistency during merge process</td><td>Consistency depends on message delivery guarantees and processing logic</td></tr><tr><td><b>Use Cases</b></td><td>Real-time data synchronization (financial transactions, inventory management)</td><td>Daily reporting, data warehousing</td><td>Commonly used for data warehousing, analytics, and reporting purposes</td><td>Useful for event-driven architectures, microservices, and distributed systems</td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table class="text_vertical"><thead><tr><th>Replication Strategy</th><th style="min-width:350px">Visualization</th><th>Description</th><th>Pros</th><th>Cons</th><th>Use Cases</th></tr></thead><tbody><tr><td><b>Leader-Follower Replication (Source-Replica / Master-Slave / Primary-Secondary)</b></td><td></td><td>Primary database instance accepts write operations, while one or more replicas replicate data from the leader. Replicas typically handle read operations</td><td><ul><li>Simple setup and maintenance</li><li>Consistent read operations</li><li>Failover support for the leader</li></ul></td><td><ul><li>Write operations bottlenecked by leader</li><li>Potential for replication lag</li><li>Single point of failure (leader)</li></ul></td><td><ul><li>High availability for read-heavy workloads</li><li>Load balancing read operations</li></ul></td></tr><tr><td><b>Active/Active Replication</b></td><td></td><td>Multiple database instances accept both read and write operations simultaneously. Each instance can serve read and write requests independently</td><td><ul><li>Distributed load balancing</li><li>Improved fault tolerance</li><li>Minimal replication lag</li></ul></td><td><ul><li>Complex conflict resolution</li><li>Increased risk of data inconsistency</li><li>Higher infrastructure and maintenance costs</li></ul></td><td><ul><li>Geographically distributed applications</li><li>Low-latency requirements</li><li>High throughput</li></ul></td></tr><tr><td><b>Multi-Leader Replication (Master-Master / Primary-Primary)</b></td><td></td><td>Multiple database instances accept write operations independently, and changes are asynchronously replicated between them</td><td><ul><li>Improved write scalability</li><li>Enhanced fault tolerance</li><li>No single point of failure for writes</li></ul></td><td><ul><li>Complex conflict resolution</li><li>Increased risk of data conflicts and inconsistency</li><li>Potential for replication lag</li></ul></td><td><ul><li>Geographically distributed teams</li><li>Active-active setups requiring write capabilities on all nodes</li></ul></td></tr><tr><td><b>Leaderless Replication</b></td><td></td><td>No designated leader. Each node in the cluster can accept both read and write operations. Data is replicated across all nodes in the cluster</td><td><ul><li>No single point of failure</li><li>High availability for both reads and writes</li><li>Linear scalability</li></ul></td><td><ul><li>Complex consistency and conflict resolution</li><li>Increased network traffic for replication</li><li>Potential for divergent data states</li></ul></td><td><ul><li>Highly distributed environments</li><li>Scalable architectures</li><li>Fault tolerance</li></ul></td></tr><tr><td><b>Quorum Writes and Reads</b></td><td></td><td>Requires a certain number (quorum) of nodes to agree on a write or read operation before it&#x27;s considered successful. It&#x27;s often used in distributed databases to ensure consistency and availability</td><td><ul><li>Improved fault tolerance</li><li>Tunable consistency levels</li><li>Reduced risk of split-brain scenarios</li></ul></td><td><ul><li>Increased coordination overhead</li><li>Potential for performance degradation with large clusters</li><li>Complexity in determining appropriate quorum sizes</li></ul></td><td><ul><li>Highly available systems</li><li>Consistency across distributed nodes</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Criteria</th><th>Last Write Wins (LWW)</th><th>Conflict-free Replicated Data Types (CRDTs)</th><th>Operational Transformation</th><th>Application-specific Resolution</th></tr></thead><tbody><tr><td><b>Principle</b></td><td>The latest update overwrites previous ones</td><td>Concurrent updates merge seamlessly</td><td>Transformations are applied to resolve conflicts</td><td>Custom logic defines resolution rules</td></tr><tr><td><b>Concurrency Control</b></td><td>Often based on timestamps</td><td>Built-in, ensures eventual consistency</td><td>Complex, requires careful design</td><td>Depends on implementation approach</td></tr><tr><td><b>Conflict Detection</b></td><td>Timestamps or version vectors</td><td>Built-in mechanisms handle concurrent updates</td><td>Requires tracking dependencies</td><td>Custom logic or metadata tracking</td></tr><tr><td><b>Use Cases</b></td><td>Simple applications with low concurrency where data loss is acceptable</td><td>Collaborative editing systems, real-time communication systems</td><td>Collaborative editing, version control systems, distributed databases</td><td>Application-specific needs, such as financial transactions</td></tr></tbody></table></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_GmVd" id="communication-patterns">Communication Patterns<a class="hash-link" aria-label="Direct link to Communication Patterns" title="Direct link to Communication Patterns" href="/tech-labs/docs/education/system-design/data-management#communication-patterns">â€‹</a></h2>
<div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__item--active">Overview</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Patterns</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><p>Distributed databases offer scalability and fault tolerance, but introduce communication challenges.</p><h3 class="anchor anchorWithStickyNavbar_GmVd" id="core-concepts">Core Concepts<a class="hash-link" aria-label="Direct link to Core Concepts" title="Direct link to Core Concepts" href="/tech-labs/docs/education/system-design/data-management#core-concepts">â€‹</a></h3><ul>
<li><strong>Data Distribution</strong>: Understanding how data is sharded or replicated across nodes is crucial for choosing communication patterns</li>
<li><strong>Synchronous vs. Asynchronous</strong>: Synchronous communication waits for a response before proceeding, while asynchronous allows independent execution. Selection depends on real-time response needs and fault tolerance requirements</li>
<li><strong>Consistency Models</strong>: Different consistency models (eventual consistency, strong consistency) define how quickly updates propagate across nodes, impacting communication frequency</li>
</ul></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__vertical tabs__item--active">Choreography</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">CQRS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Distributed Query Processing</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Event Sourcing</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Modular</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Orchestration</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Outbox</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Parallel Pipelines</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Phase Commit</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Decentralized coordination between services</td></tr><tr><td><b>Pros</b></td><td><ul><li>Scalability</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Harder to reason about global system state</li><li>Potential for cascading failures</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Event-driven architecture</li><li>Message formats and protocols</li><li>Resilience against message loss or duplication</li><li>Scalability and message routing mechanisms</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Event-driven architectures</li><li>Decoupled systems</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Command Query Responsibility Segregation (CQRS). Separates read and write operations</td></tr><tr><td><b>Pros</b></td><td><ul><li>Optimized read/write operations</li><li>Scalability</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Increased complexity in implementation</li><li>Potential consistency issues</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Consistency between read and write models</li><li>Data synchronization mechanisms</li><li>Scalability of read and write paths</li><li>Complexity of maintaining separate models</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Complex read/write operations</li><li>Scalability requirements</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Executes queries across distributed nodes</td></tr><tr><td><b>Pros</b></td><td><ul><li>Scalability</li><li>Improved query performance</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Increased network overhead</li><li>Potential data consistency challenges</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Query optimization and pushdown mechanisms</li><li>Data locality and network overhead</li><li>Consistency and isolation levels</li><li>Handling failures and partial results</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Analytical workloads</li><li>Data-intensive applications</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Stores events instead of current state for data changes. Appends only storage for replay of events to specific state/snapshot</td></tr><tr><td><b>Pros</b></td><td><ul><li>Full audit trail</li><li>Scalability</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Complexity in replaying events</li><li>Potential for performance issues</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Event schema evolution and compatibility</li><li>Event storage and indexing strategies</li><li>Event replay and snapshotting mechanisms</li><li>Eventual consistency and read model projections</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Auditing</li><li>Versioning</li><li>Rebuilding state</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Data and transactions are divided into modules</td></tr><tr><td><b>Pros</b></td><td><ul><li>Scalability</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Potential inconsistency in data between modules</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Transaction isolation levels</li><li>ACID compliance</li><li>Coordination and consistency across distributed transactions</li><li>Rollback and compensating actions for failures</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Microservices architecture</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Sequences distributed transactions into a saga</td></tr><tr><td><b>Pros</b></td><td><ul><li>Maintains consistency</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Complexity in handling compensating transactions</li><li>Potential for inconsistencies</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Transactional boundaries and compensation logic</li><li>Consistency and atomicity guarantees</li><li>Long-running transaction handling</li><li>Saga orchestration and message correlation</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Long-lived transactions</li><li>Business workflows</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Uses an outbox table to guarantee message delivery</td></tr><tr><td><b>Pros</b></td><td><ul><li>Ensures message delivery</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Requires additional infrastructure, complexity in implementation</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Outbox implementation and integration patterns</li><li>Message delivery guarantees and retries</li><li>Error handling and dead letter queues</li><li>Scalability and performance considerations</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Event-driven architectures</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Aspect</th><th></th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td></tr><tr><td><b>Definition</b></td><td>Divides data processing into parallel pipelines</td></tr><tr><td><b>Pros</b></td><td><ul><li>Increased throughput</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Complexity in managing parallelism</li><li>Potential for data skew</li></ul></td></tr><tr><td><b>Considerations</b></td><td><ul><li>Parallelism and concurrency control mechanisms</li><li>Data partitioning and load balancing</li><li>Fault tolerance and error recovery strategies</li><li>Resource utilization and bottleneck detection</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Data processing pipelines</li></ul></td></tr></tbody></table></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table class="text_vertical"><thead><tr><th>Aspect</th><th>Two-Phase Commit (2PC)</th><th>Three-Phase Commit (3PC)</th></tr></thead><tbody><tr><td><b>Visualization</b></td><td></td><td></td></tr><tr><td><b>Definition</b></td><td>Ensures all participants commit or abort together in 2 phases</td><td>Extension of 2PC adding a &quot;prepare to abort&quot; phase for increased fault tolerance</td></tr><tr><td><b>Steps</b></td><td><ul><li><b>First Phase (Pre-Commit Phase):</b><ul><li><b>Voting Request:</b> Coordinator asks participants if they can commit the transaction</li><li><b>Voting:</b> Participants pre-execute the transaction, responding &quot;YES&quot; if executable, &quot;NO&quot; if not</li></ul></li><li><b>Second Phase (Commit/Rollback Phase):</b><ul><li><b>All YES Votes:</b> Coordinator sends &quot;commit&quot; command to all</li><li><b>Some NO Votes:</b> Coordinator sends &quot;rollback&quot; command if any participant dissents or doesn&#x27;t respond</li></ul></li></ul></td><td><ul><li><b>First Phase (Prepare Phase)</b><ul><li>Coordinator sends commit inquiry</li><li>Participants respond with &quot;can&quot; or &quot;cannot&quot;</li></ul></li><li><p>Second Phase (Pre-Commit Phase)</p><ul><li>If all agree, coordinator sends pre-commit message</li><li>Participants pre-execute, send &quot;ready to commit&quot;</li></ul></li><li><b>Third Phase (Commit Phase)</b><ul><li>Coordinator sends commit message when all ready</li><li>Participants commit; any &quot;abort&quot; or no response cancels transaction</li></ul></li></ul></td></tr><tr><td><b>Pros</b></td><td><ul><li>Ensures transaction atomicity in a distributed environment</li></ul></td><td><ul><li>Better solves single point of failure and blocking problems: By adding a prepare phase and timeouts. This allows for better handling of coordinator failures and avoids blocking issues</li><li>Enhances system availability and robustness: Commit timeouts prevent long waits for unresponsive participants, boosting system availability and robustness</li><li>Improves transaction execution efficiency: Lets participants start working early (prepare phase), improving efficiency for long transactions</li></ul></td></tr><tr><td><b>Cons</b></td><td><ul><li>Performance overhead: Requires frequent network messages (requests, votes, commands) which increases latency, especially in slow networks</li><li>Single point of failure: Coordinator failure leaves participants unsure about commit/rollback, impacting performance. Use multiple coordinators (primary-secondary) or heartbeat/timeouts for fault tolerance</li><li>Blocking problem: Can block if a participant fails to respond during voting. Timeouts help avoid this by letting the coordinator rollback after a set wait time</li></ul></td><td><ul><li>Higher message overhead: Reduces performance especially in bad networks. Optimize network and messages to reduce overhead</li><li>Increased complexity: New stage and timeouts make it trickier to implement and maintain. Consider Paxos or Raft for better fault tolerance, blocking handling, and performance</li><li>Blocking problem still exists: Network partitions or simultaneous failures can still cause blocking. Fault recovery with logs helps resume operations by restoring state</li></ul></td></tr><tr><td><b>Use Cases</b></td><td><ul><li>Simple data updates across a few geographically distributed databases</li><li>Financial transactions</li></ul></td><td><ul><li>Scenarios with potential coordinator failures: Single Point of Failure (SPOF)</li><li>Large-scale distributed databases</li></ul></td></tr></tbody></table></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_GmVd" id="cache">Cache<a class="hash-link" aria-label="Direct link to Cache" title="Direct link to Cache" href="/tech-labs/docs/education/system-design/data-management#cache">â€‹</a></h2>
<div class="tabs-container tabList_g7M0"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_QH3N tabs__item--active">Overview</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_QH3N">Strategies</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_MIp0"><p>Traditional cache stores frequently accessed data in a faster-to-access location (usually RAM) compared to the primary data source (typically a database).</p><p>Distributed cache extends this concept by spreading the cached data across multiple machines (nodes) within a network.</p></div><div role="tabpanel" class="tabItem_MIp0" hidden=""><table><thead><tr><th>Strategy</th><th style="min-width:350px">Visualization</th><th>Definition</th><th>Use Cases</th></tr></thead><tbody><tr><td><b>Read Cache-Aside (Lazy-Loading)</b></td><td></td><td>If the data is not in the cache, the application fetches it from the data source and then caches it for subsequent accesses</td><td><ul><li>Frequently accessed, read-heavy workloads with acceptable eventual consistency (Content Delivery Networks: CDN)</li></ul></td></tr><tr><td><b>Read-Through</b></td><td></td><td>Data is fetched from the main storage only when it&#x27;s not found in the cache, ensuring that the cache reflects the most up-to-date information available</td><td><ul><li>Read-heavy workloads where data consistency is managed by Cache Provider (middleware and proxy servers)</li></ul></td></tr><tr><td><b>Write-Around</b></td><td></td><td>Data is written directly to the main storage, bypassing the cache, but subsequent reads of that data can be cached for faster access</td><td><ul><li>Write-heavy workloads, large file writes, streaming applications</li></ul></td></tr><tr><td><b>Write-Back</b></td><td></td><td>Data is written to the cache first and then later transferred to the main memory, reducing the frequency of memory writes and improving system performance by allowing multiple updates before writing back to memory</td><td><ul><li>Write-heavy workloads where eventual consistency is acceptable (CPU caches, virtualization platforms in enhancing the performance of virtual machines <b>VMs</b>)</li></ul></td></tr><tr><td><b>Write-Through</b></td><td></td><td>Data is written simultaneously to both the cache and the underlying storage, ensuring consistency between the two at all times</td><td><ul><li>Real-time data updates where consistency is paramount (real-time analytics and dashboards)</li></ul></td></tr></tbody></table></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/EliFuzz/tech-labs/docs/education/04-system-design/10-data-management.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_ML0N" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_EOUr"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tech-labs/docs/education/system-design/traffic-management"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Traffic Management</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tech-labs/docs/education/system-design/design-principles"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Design Principles</div></a></nav></div></div></div></div></main></div></div></div></div>
</body>
</html>