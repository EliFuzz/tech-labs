"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[8588],{75033:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>h});var s=i(86070),r=i(27468),t=i(78826),l=i(28437);const a={title:"Microservices",description:"Microservices",hide_table_of_contents:!0},c=void 0,o={id:"education/system-design/microservices",title:"Microservices",description:"Microservices",source:"@site/docs/education/04-system-design/04-microservices.mdx",sourceDirName:"education/04-system-design",slug:"/education/system-design/microservices",permalink:"/tech-labs/docs/education/system-design/microservices",draft:!1,unlisted:!1,editUrl:"https://github.com/EliFuzz/tech-labs/docs/education/04-system-design/04-microservices.mdx",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Microservices",description:"Microservices",hide_table_of_contents:!0},sidebar:"education",previous:{title:"Gangs of Four (GoF)",permalink:"/tech-labs/docs/education/system-design/gof"},next:{title:"Enterprise",permalink:"/tech-labs/docs/education/system-design/enterprise"}},d={},h=[{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Migration",id:"migration",level:2}];function x(e){const n={h2:"h2",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.A,{queryString:"primary",children:[(0,s.jsx)(l.A,{value:"overview",label:"High Overview",children:(0,s.jsxs)("table",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Monolithic architecture"}),(0,s.jsx)("th",{children:"Microservices architecture"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Design"})}),(0,s.jsx)("td",{children:"Single code base with multiple interdependent functions"}),(0,s.jsx)("td",{children:"Independent software components with autonomous functionality that communicate with each other using APIs"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Development"})}),(0,s.jsx)("td",{children:"Requires less planning at the start, but gets increasingly complex to understand and maintain"}),(0,s.jsx)("td",{children:"Requires more planning and infrastructure at the start, but gets easier to manage and maintain over time"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Deployment"})}),(0,s.jsx)("td",{children:"Entire application deployed as a single entity"}),(0,s.jsx)("td",{children:"Every microservice is an independent software entity that requires individual containerized deployment"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Debugging"})}),(0,s.jsx)("td",{children:"Trace the code path in the same environment"}),(0,s.jsx)("td",{children:"Requires advanced debugging tools to trace the data exchange between multiple microservices"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Modification"})}),(0,s.jsx)("td",{children:"Small changes introduce greater risks as they impact the entire code base"}),(0,s.jsx)("td",{children:"You can modify individual microservices without impacting the entire application"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Scale"})}),(0,s.jsx)("td",{children:"You have to scale the entire application, even if only certain functional areas experience an increase in demand"}),(0,s.jsx)("td",{children:"You can scale individual microservices as required, which saves overall scaling costs"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Investment"})}),(0,s.jsx)("td",{children:"Low upfront investment at the cost of increased ongoing and maintenance efforts"}),(0,s.jsx)("td",{children:"Additional time and cost investment to set up the required infrastructure and build team competency. However, long-term cost savings, maintenance, and adaptability"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Use Cases"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Small to medium-sized projects"}),(0,s.jsx)("li",{children:"Rapid prototyping and MVP development"}),(0,s.jsx)("li",{children:"Tightly coupled components"}),(0,s.jsx)("li",{children:"Resource constraints"}),(0,s.jsx)("li",{children:"Low-usage applications for improving cost efficiency"})]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Large and complex systems"}),(0,s.jsx)("li",{children:"Scalability demands"}),(0,s.jsx)("li",{children:"Technology diversity"}),(0,s.jsx)("li",{children:"Independent deployment and continuous delivery"}),(0,s.jsx)("li",{children:"High fault tolerance and resilience"}),(0,s.jsx)("li",{children:"Large cross-functional development teams"}),(0,s.jsx)("li",{children:"Rapid evolving requirements"})]})})]})]})}),(0,s.jsx)(l.A,{value:"monolithic",label:"Monolithic",children:(0,s.jsxs)(t.A,{queryString:"secondary",children:[(0,s.jsxs)(l.A,{value:"overview",label:"Overview",attributes:{className:"tabs__vertical"},children:[(0,s.jsx)(n.mermaid,{value:"    graph TB\n\n    client(Client)\n\n    payment(Payment)\n    shoppingCart(Shopping Cart)\n    inventory(Inventory)\n\n    singleInstance(Monolith)\n\n    database[(Database)]\n\n    client --\x3e payment\n    client --\x3e shoppingCart\n    client --\x3e inventory\n\n    payment --\x3e singleInstance\n    shoppingCart --\x3e singleInstance\n    inventory --\x3e singleInstance\n    singleInstance --\x3e database\n\n    subgraph dev [Development]\n        direction LR\n\n        subgraph vcs[Version Control System]\n            direction TB\n\n            git{{Git/Mercurial}}\n        end\n\n        subgraph teams [Dev Teams]\n            direction TB\n\n            developer1(Dev Team)\n            developer2(Dev Team)\n            developer3(Dev Team)\n        end\n    end\n\n    vcs --\x3e singleInstance\n    teams --\x3e vcs"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Monolithic architecture"})," is a single application that is built as a single unit. Is a singular, large computing network with one code base that couples all of the business concerns together. To make a change to this sort of application requires updating the entire stack by accessing the code base and building and deploying an updated version of the complete application."]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Monolithic applications initially offer advantages such as ease of development and deployment"}),"\n",(0,s.jsx)(n.li,{children:"Challenges arise as teams grow, leading to blocked deploys, cross-team functionality issues, and difficulties with updates"}),"\n"]}),(0,s.jsxs)(n.p,{children:["As a result, monolithic applications are often difficult to scale and maintain and often migrate to a ",(0,s.jsx)(n.strong,{children:"microservices architecture"}),". This involves identifying and modifying tightly coupled entities, which is complex."]})]}),(0,s.jsxs)(l.A,{value:"modular",label:"Modular Monolith",children:[(0,s.jsxs)(n.p,{children:["Monolithic applications can be transformed into ",(0,s.jsx)(n.strong,{children:"modular monolith"})," by starting with a single repository and clear boundaries between business contexts. Which will allow for easier transition to microservices architecture."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Advantages of Modular Monolith"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Bounded contexts in a modular monolith encompass independent business functions"}),"\n",(0,s.jsx)(n.li,{children:"Isolating business contexts within a single codebase and database prevents future issues and facilitates changes"}),"\n",(0,s.jsx)(n.li,{children:"Changes within a modular monolith are less costly compared to traditional monoliths, as data migration isn't necessary"}),"\n",(0,s.jsx)(n.li,{children:"Communication between modules in a modular monolith should utilize events instead of direct method calls"}),"\n",(0,s.jsx)(n.li,{children:"Techniques for maintaining data consistency and event management include emitting events, using databases, or employing message queues"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Segregation by Feature"})}),(0,s.jsx)(n.mermaid,{value:'    graph LR\n\n    subgraph monolith[Modular Monolith]\n        direction LR\n\n        subgraph module1["Payment Module"]\n            direction LR\n\n            subgraph placeOrder[Place Order Feature]\n                direction TB\n\n                view1(View)\n                controller1(Controller)\n                model1(Model)\n\n                view1 --\x3e controller1\n                controller1 --\x3e model1\n            end\n        end\n\n        subgraph module2["Shopping Cart Module"]\n            direction LR\n\n            subgraph shoppingCart[Shopping Cart Feature]\n                direction TB\n\n                view2(View)\n                controller2(Controller)\n                model2(Model)\n\n                view2 --\x3e controller2\n                controller2 --\x3e model2\n            end\n        end\n\n        subgraph module3["Inventory Module"]\n            direction LR\n\n            subgraph inventory1[Product Catalog Management Feature]\n                direction TB\n\n                view3(View)\n                controller3(Controller)\n                model3(Model)\n\n                view3 --\x3e controller3\n                controller3 --\x3e model3\n            end\n\n            subgraph inventory2[Inventory Tracking Feature]\n                direction TB\n\n                view4(View)\n                controller4(Controller)\n                model4(Model)\n\n                view4 --\x3e controller4\n                controller4 --\x3e model4\n            end\n        end\n    end\n\n    database[(Database)]\n\n    model1 --\x3e database\n    model2 --\x3e database\n    model3 --\x3e database\n    model4 --\x3e database\n\n    devTeam1(Dev Team) --\x3e module1\n    devTeam2(Dev Team) --\x3e module2\n    devTeam3(Dev Team) --\x3e module3'})]})]})}),(0,s.jsx)(l.A,{value:"microservices",label:"Microservices",children:(0,s.jsxs)(t.A,{queryString:"secondary",children:[(0,s.jsxs)(l.A,{value:"overview",label:"Overview",attributes:{className:"tabs__vertical"},children:[(0,s.jsx)(n.mermaid,{value:"    graph LR\n\n    subgraph microservices[Microservices]\n        direction TB\n\n        payment(Payment)\n        shoppingCart(Shopping Cart)\n        inventory(Inventory)\n\n        payment <--\x3e shoppingCart\n        payment <--\x3e inventory\n        shoppingCart <--\x3e inventory\n    end\n\n    client(Client) --\x3e payment\n    client --\x3e shoppingCart\n    client --\x3e inventory"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Microservices"})," are independent, and loosely coupled software components that perform specific tasks within a larger application, facilitating scalability, flexibility, and maintainability in software development. They organize the subdomains into one or more deployable/executable components."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Golden Rule"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"we need to ensure that our microservices are independently deployable"}),"\n",(0,s.jsxs)(n.li,{children:["if we needed to update our country codes library, and have all services pick up the new data immediately, we\u2019d need to redeploy all services at the moment the new library is available","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"this is a classic lock-step release, and exactly what we\u2019re trying to avoid with microservice architectures"}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsx)(l.A,{value:"advantages",label:"Advantages",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simple Components"}),": Small, focused components, simplifying development and maintenance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Team Autonomy"}),": Teams should have the independence to develop, test, and deploy their software autonomously, enabling faster iterations and reducing dependencies on other teams"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fast Deployment Pipeline"}),": A rapid deployment pipeline facilitates quick feedback and frequent deployments"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Support for Multiple Technology Stacks"}),": Applications may utilize various technologies within different subdomains, requiring developers to update the technology stack to maintain compatibility with current languages and frameworks"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Segregation by Characteristics"}),": Segregating components based on characteristics like resource requirements, availability, and security enhances scalability, availability, and security, respectively"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simple Interactions"}),": Operations that involve local or straightforward interactions between components are easier to troubleshoot"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Efficient Interactions"}),": Distributed operations involving numerous network round trips and large data transfers can be inefficient and should be minimized for optimal performance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prefer ACID over BASE"}),": Implementing operations as ACID transactions rather than eventually consistent sagas simplifies development and maintenance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Minimize Runtime Coupling"}),": Reducing runtime coupling maximizes availability and minimizes latency for operations, improving overall system performance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Minimize Design Time Coupling"}),": Decreasing design time coupling reduces the likelihood of services needing to be changed simultaneously, enhancing productivity and flexibility in development"]}),"\n"]})}),(0,s.jsx)(l.A,{value:"principles",label:"Principles",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Organized around Business Capabilities"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Traditional division based on technology layers leads to cross-team projects for even simple changes due to Conway's Law (the way people within an organization communicate influences the structure of the systems they build)"}),"\n",(0,s.jsx)(n.li,{children:"Microservice approach focuses on organizing services around business capabilities"}),"\n",(0,s.jsx)(n.li,{children:"Cross-functional teams with skills for entire development process"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Size of Microservices"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Varies, often sized around Amazon\'s "Two Pizza Team" concept (organizing teams small enough that they can be fed with just two pizzas)'}),"\n",(0,s.jsx)(n.li,{children:"Ranges from a dozen people supporting several services to a smaller team per service"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Product Ownership"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Microservice teams own products over their full lifetime"}),"\n",(0,s.jsx)(n.li,{children:'Inspired by Amazon\'s "you build, you run it" philosophy'}),"\n",(0,s.jsx)(n.li,{children:"Emphasizes ongoing relationship and enhancing business capabilities"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Communication Structure"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Smart endpoints and dumb pipes approach"}),"\n",(0,s.jsx)(n.li,{children:"Microservices use simple protocols like HTTP request-response and lightweight messaging"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Comparison with SOA"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Microservices similar to some aspects of Service Oriented Architecture (SOA) but with distinct differences by focusing on avoiding pitfalls of traditional SOA implementations"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Decentralized Governance"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Encourages using right tools for the job rather than standardizing on single technology platforms"}),"\n",(0,s.jsx)(n.li,{children:"Promotes producing useful tools shared within teams, similar to internal open source model"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Infrastructure Automation"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Utilizes extensive automation techniques for building, deploying, and operating microservices"}),"\n",(0,s.jsx)(n.li,{children:"Enables teams to manage infrastructure efficiently and deploy software frequently"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Design Considerations"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Emphasis on failure tolerance, real-time monitoring, and asynchronous communication"}),"\n",(0,s.jsx)(n.li,{children:"Supports evolutionary design, modular decomposition, and granular release planning"}),"\n",(0,s.jsx)(n.li,{children:"Prefers tolerant services over heavy versioning for managing changes"}),"\n"]}),"\n"]}),"\n"]})}),(0,s.jsx)(l.A,{value:"practices",label:"Best Practices",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use separate data storage for each microservice"}),"\n",(0,s.jsx)(n.li,{children:"Keep code at a similar level of maturity"}),"\n",(0,s.jsx)(n.li,{children:"Separate build for each microservice"}),"\n",(0,s.jsx)(n.li,{children:"Assign each microservice with a single responsibility"}),"\n",(0,s.jsx)(n.li,{children:"Deploy into containers"}),"\n",(0,s.jsx)(n.li,{children:"Design stateless services"}),"\n",(0,s.jsx)(n.li,{children:"Adopt Domain-Driven Design (DDD)"}),"\n",(0,s.jsx)(n.li,{children:"Design micro frontend"}),"\n",(0,s.jsx)(n.li,{children:"Orchestrating microservices with Kubernetes"}),"\n"]})})]})}),(0,s.jsx)(l.A,{value:"architecture",label:"Architecture",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Aspect"}),(0,s.jsx)("th",{children:"On-Premises"}),(0,s.jsx)("th",{children:"Infrastructure-as-a-Service (IaaS)"}),(0,s.jsx)("th",{children:"Platform-as-a-Service (PaaS)"}),(0,s.jsx)("th",{children:"Software-as-a-Service (SaaS)"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Application"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Data"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Runtime"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Middleware"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"O/S"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Virtualization"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Servers"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Storage"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Networking"})}),(0,s.jsx)("td",{children:"+"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"}),(0,s.jsx)("td",{children:"-"})]})]}),(0,s.jsx)("tfoot",{children:(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colspan:"5",children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:'"+"'})," Managed by you"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:'"-"'})," Managed by other"]})]})})})})]})})]}),"\n",(0,s.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,s.jsxs)(t.A,{queryString:"primary",children:[(0,s.jsx)(l.A,{value:"overview",label:"Overview",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{style:{width:"70%"},children:"Visualization"}),(0,s.jsx)("th",{children:"Specs"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(n.mermaid,{value:"    graph TB\n\n    subgraph user\n      direction TB\n\n      web(Web)\n      mobile(Mobile)\n    end\n\n    user --\x3e lb(Load Balancer)\n    lb --\x3e apiGateway(API Gateway)\n    apiGateway --\x3e identity(Identity Provider)\n    apiGateway --\x3e sr(Service Registry & Discovery)\n\n    subgraph microservices\n      direction LR\n\n      domainA(Domain A)\n      domainB(Domain B)\n    end\n\n    domainA --\x3e dbA[(Database A)]\n    domainB --\x3e dbB[(Database B)]\n\n    sr --\x3e domainA\n    sr --\x3e domainB\n\n    management(Management) --\x3e sr\n    management --\x3e microservices"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Load Balancer"}),": Distributes traffic to multiple backend services"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"CDN (Content Delivery Network)"}),": Speeds up content delivery by storing static content on distributed servers"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"API Gateway"}),": Routes requests to relevant services, interacts with identity provider and service discovery"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Identity Provider"}),": Manages user authentication and authorization"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Service Registry & Discovery"}),": Registers and finds microservices, used by API gateway to locate services"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Management"}),": Monitors services"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Microservices"}),": Independently deployed and maintained in separate domains, each with its own database. Communicate via REST API or RPC"]})]})})]})})]})}),(0,s.jsx)(l.A,{value:"common",label:"Common Setup",children:(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Pre-Production"}),(0,s.jsx)("th",{children:"Production"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)(n.mermaid,{value:"    graph TB\n\n    dev(Developer) --\x3e api(Define API)\n    api --\x3e ui(Develop UI)\n    api --\x3e microservice(Develop microservices)\n    api --\x3e apiGateway(Modify configurations in API Gateway)\n\n    ui --\x3e test(Test)\n    microservice --\x3e test\n    apiGateway --\x3e test\n\n    test --\x3e build(Build Image)\n    build --\x3e deploy(Deploy)"}),(0,s.jsx)("ul",{children:(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Stack"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Define API"}),": Establish frontend-backend contract using Postman/OpenAPI"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Develop UI"}),": Node.js/React"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Develop Microservices"}),": Java/Python/Go"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Test"}),": Unit test framework and Jenkins/Github Actions/CircleCI/Gitlab CI"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Build"}),": Package code into Docker images for microservices deployment"]})]})]})})]}),(0,s.jsxs)("td",{children:[(0,s.jsx)(n.mermaid,{value:"    graph TB\n\n    user --\x3e cdn(CDN)\n    user(User) --\x3e lb(Load Balancer)\n\n    lb --\x3e apiGateway(API Gateway)\n\n    subgraph microservices\n      direction TB\n\n      services(Services)\n      cache(Cache)\n      search(Full-Text Search)\n      broker(Message Broker)\n      management(Management & Monitoring)\n    end\n\n    subgraph access [Access Layer]\n      direction TB\n\n      relational(Relational DB)\n      blob(Object/Blob Store)\n      wideColumn(Wide-Column DB)\n    end\n\n    apiGateway --\x3e microservices\n\n    services --\x3e access"}),(0,s.jsx)("ul",{children:(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Stack"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Load Balancer"}),": NGINX"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"CDN"}),": CloudFront/Cloudflare"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"API Gateway"}),": Zookeeper/Eureka for service discovery"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Full-Text Search"}),": ElasticSearch"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Cache"}),": Redis"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Communications"}),": Kafka or RPC for service communication"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Management & Monitoring"}),": Prometheus/Grafana/Elastic Stack/Kubernetes"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Persistence"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Relational DB"}),": MySQL/PostgreSQL"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Object Store"}),": S3/GCS/Azure Blob"]})]})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("b",{children:"Cloud Deployment"}),": GCP/AWS/Azure"]})]})]})})]})]})})]})})]}),"\n",(0,s.jsx)(n.h2,{id:"migration",children:"Migration"}),"\n",(0,s.jsxs)(t.A,{queryString:"primary",children:[(0,s.jsx)(l.A,{value:"process",label:"Process",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Discovering system operations"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Analyzing existing monolithic architecture"}),"\n",(0,s.jsx)(n.li,{children:"Identifying functionalities and dependencies"}),"\n",(0,s.jsx)(n.li,{children:"Documenting system components, interactions, and data flows"}),"\n",(0,s.jsx)(n.li,{children:"Conducting interviews with stakeholders to understand business requirements"}),"\n",(0,s.jsx)(n.li,{children:"Profiling system performance and resource utilization"}),"\n",(0,s.jsx)(n.li,{children:"Assessing scalability and maintainability issues in the current architecture"}),"\n",(0,s.jsx)(n.li,{children:"Generating system documentation and diagrams (e.g., entity-relationship diagrams, flowcharts)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Defining subdomains"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Use domain-driven design approach"}),"\n",(0,s.jsx)(n.li,{children:"Identifying business capabilities and boundaries"}),"\n",(0,s.jsx)(n.li,{children:"Decomposing the monolithic system into cohesive subdomains"}),"\n",(0,s.jsx)(n.li,{children:"Prioritizing subdomains based on business impact and complexity"}),"\n",(0,s.jsx)(n.li,{children:"Defining bounded contexts for each subdomain"}),"\n",(0,s.jsx)(n.li,{children:"Documenting subdomain boundaries, responsibilities, and contexts"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Designing services and their collaborations"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Selecting appropriate communication protocols (e.g., REST, gRPC, GraphQL, Publish-Subscribe messaging)"}),"\n",(0,s.jsx)(n.li,{children:"Defining service interfaces and contracts"}),"\n",(0,s.jsx)(n.li,{children:"Choosing technology stacks for individual services"}),"\n",(0,s.jsx)(n.li,{children:"Designing fault-tolerant and resilient services"}),"\n",(0,s.jsx)(n.li,{children:"Implementing event-driven architectures or choreographed workflows"}),"\n",(0,s.jsx)(n.li,{children:"Establishing service discovery and registry mechanisms"}),"\n",(0,s.jsx)(n.li,{children:"Developing API gateways for routing and security"}),"\n",(0,s.jsx)(n.li,{children:"Implementing circuit breakers and retries for robustness"}),"\n",(0,s.jsx)(n.li,{children:"Designing data consistency strategies (e.g., eventual consistency, transactional boundaries)"}),"\n",(0,s.jsx)(n.li,{children:"Defining service versioning and backward compatibility policies"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Evaluating a microservice architecture"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Performing architectural reviews and inspections"}),"\n",(0,s.jsx)(n.li,{children:"Conducting proof-of-concept implementations"}),"\n",(0,s.jsx)(n.li,{children:"Analyzing trade-offs between microservices and monolithic architectures"}),"\n",(0,s.jsx)(n.li,{children:"Evaluating scalability, performance, and latency requirements"}),"\n",(0,s.jsx)(n.li,{children:"Assessing operational overhead and deployment complexities"}),"\n",(0,s.jsx)(n.li,{children:"Conducting cost-benefit analysis of microservices adoption"}),"\n",(0,s.jsx)(n.li,{children:"Benchmarking against key performance indicators (KPIs) and service level objectives (SLOs)"}),"\n",(0,s.jsx)(n.li,{children:"Considering organizational readiness and cultural implications"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Refactoring a microservice architecture"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Identifying code smells and anti-patterns in the existing architecture"}),"\n",(0,s.jsx)(n.li,{children:"Decomposing monolithic codebase into microservices"}),"\n",(0,s.jsx)(n.li,{children:"Applying domain-driven design principles for service boundaries"}),"\n",(0,s.jsx)(n.li,{children:"Implementing continuous integration and continuous deployment (CI/CD) pipelines"}),"\n",(0,s.jsx)(n.li,{children:"Automating testing, deployment, and monitoring processes"}),"\n",(0,s.jsx)(n.li,{children:"Establishing DevOps practices for collaboration and feedback loops"}),"\n",(0,s.jsx)(n.li,{children:"Implementing distributed tracing and logging for observability"}),"\n",(0,s.jsx)(n.li,{children:"Refactoring data storage and access patterns"}),"\n",(0,s.jsx)(n.li,{children:"Ensuring backward compatibility and data migration strategies"}),"\n",(0,s.jsx)(n.li,{children:"Documenting refactoring decisions and outcomes"}),"\n"]}),"\n"]}),"\n"]})}),(0,s.jsx)(l.A,{value:"decomposition",label:"Service Decomposition",children:(0,s.jsxs)(t.A,{queryString:"secondary",children:[(0,s.jsx)(l.A,{value:"overview",label:"Overview",attributes:{className:"tabs__vertical"},children:(0,s.jsxs)("table",{className:"stick column",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Aspect"}),(0,s.jsx)("th",{children:"Decompose by Business Capability"}),(0,s.jsx)("th",{children:"Decompose by Subdomain"}),(0,s.jsx)("th",{children:"Self-contained Service"}),(0,s.jsx)("th",{children:"Service per Team"}),(0,s.jsx)("th",{children:"Strangler Application"}),(0,s.jsx)("th",{children:"Anti-corruption Layer"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Definition"})}),(0,s.jsx)("td",{children:"Breaks down the application into services based on business capabilities or functions"}),(0,s.jsx)("td",{children:"Splits services based on different subdomains or components of the business"}),(0,s.jsx)("td",{children:"Each service is independent and complete in itself, reducing dependencies"}),(0,s.jsx)("td",{children:"Each team is responsible for one or more services, allowing for ownership and autonomy"}),(0,s.jsx)("td",{children:"A new system slowly replaces the old one by gradually taking over its functionalities"}),(0,s.jsx)("td",{children:"Creates a layer between two services to ensure that changes in one do not affect the other"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Complexity"})}),(0,s.jsx)("td",{children:"Medium. Requires a good understanding of business capabilities"}),(0,s.jsx)("td",{children:"High. Requires a deep understanding of the domain and its subdomains"}),(0,s.jsx)("td",{children:"High. Each service must be self-sufficient"}),(0,s.jsx)("td",{children:"Low. Teams have full control over their services"}),(0,s.jsx)("td",{children:"Medium. Requires careful planning and incremental implementation"}),(0,s.jsx)("td",{children:"Medium. Requires understanding of both services involved"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("b",{children:"Use Cases"})}),(0,s.jsx)("td",{children:"Large applications with distinct business functions"}),(0,s.jsx)("td",{children:"Complex domains with distinct subdomains"}),(0,s.jsx)("td",{children:"Applications where each service can operate independently"}),(0,s.jsx)("td",{children:"Teams with specific domain knowledge or skills"}),(0,s.jsx)("td",{children:"Legacy systems that need to be replaced"}),(0,s.jsx)("td",{children:"Preventing unwanted dependencies between services"})]})]})]})}),(0,s.jsxs)(l.A,{value:"subdomain",label:"Decompose by Subdomain / Business Capability",children:[(0,s.jsx)(n.mermaid,{value:"  graph LR\n\n  subgraph ssd[Successful Software Development]\n    direction BT\n\n    process(<b>Process</b><br/>CI/CD)\n\n    architecture(<b>Architecture</b><br/>Microservice Architecture)\n\n    organization(<b>Organization</b><br/>small, agile, autonomous, cross-functional teams)\n\n    organization ---\x3e|enables| process\n    architecture --\x3e|enables| process\n    architecture --\x3e|enables| organization\n  end"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Stable Architecture"}),": Ensure the architecture is robust and consistent, minimizing disruptions and failures"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cohesive Services"}),": Services should focus on a specific set of closely related functions, enhancing clarity and maintainability"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Common Closure Principle"}),": Group together components that are likely to change together, reducing the ripple effect of modifications across the system"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Loose Coupling"}),": Services should expose clear APIs to interact with, allowing for flexibility in implementation changes without impacting clients"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Testability"}),": Each service should be designed to be easily testable, facilitating quality assurance and reliability"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Scalable Team Size"}),": Services should be small enough that they can be developed and managed effectively by a team of 6-10 people, promoting efficiency and communication"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Autonomous Teams"}),": Teams responsible for services should have the autonomy to develop, deploy, and maintain their services independently, minimizing dependencies and streamlining workflows"]}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"selfContained",label:"Self-Contained Service",children:[(0,s.jsx)(n.mermaid,{value:"    graph RL\n\n    client(Client)\n\n    subgraph contained[Self-Contained Service]\n        direction LR\n\n        embedded(Embedded Module)\n    end\n\n    client <--\x3e|HTTP Request/Response| contained\n    contained --- dbReplica\n\n    dbReplica[(CQRS Replica)]\n\n    message([Message Channel])\n    saga(Saga Participant Service)\n\n    saga --- message\n    message --- contained\n\n    event([Event Channel])\n    cqrs(CQRS data owner Service)\n\n    db[(DB)]\n\n    db --- cqrs\n    cqrs --- event\n    event --- contained"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Pros"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Improved availability and response time"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Cons"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Increased cost and complexity of using CQRS"}),"\n",(0,s.jsx)(n.li,{children:"Increased complexity of using sagas"}),"\n",(0,s.jsx)(n.li,{children:"Less straightforward API when using sagas"}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"team",label:"Service per Team",children:[(0,s.jsx)(n.mermaid,{value:"    graph BT\n\n    api1((API))\n    api2((API))\n\n    subgraph serviceA [Service A]\n        direction TB\n\n        module1(Module 1)\n        module2(Module 2)\n    end\n\n    api1 --\x3e serviceA\n    serviceA --\x3e api2\n\n    business(business capability-based, cross-functional, team) ---\x3e|responsible for| api1\n    business --\x3e|owns and deploys| serviceA\n\n    negotiates{{negotiates}} -.-> anotherTeam(team)\n    business -.-> negotiates\n    negotiates -.-> api2\n\n    anotherTeam --\x3e|owns and deploy| serviceB(Service B)"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Pros"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Facilitates autonomous team work with minimal coordination"}),"\n",(0,s.jsx)(n.li,{children:"Promotes loose coupling between teams"}),"\n",(0,s.jsx)(n.li,{children:"Achieves autonomy and loose coupling with fewer services"}),"\n",(0,s.jsx)(n.li,{children:"Enhances code quality through long-term ownership"}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Cons"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Teams may not always align with end user features"}),"\n",(0,s.jsx)(n.li,{children:"Implementing cross-service features becomes more complex and requires collaboration between teams"}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"strangler",label:"Strangler Pattern",children:[(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Identify the system boundary you want to re-architect"})}),"\n",(0,s.jsx)(n.mermaid,{value:"  graph LR\n\n  subgraph legacy[Legacy System]\n    boundary[[Boundary]]\n  end"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Create a facade"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"During system re-architecture, it's crucial that clients remain unaffected. To achieve this, the facade should align with the existing system API, providing a seamless transition for users"}),"\n",(0,s.jsx)(n.li,{children:"API of the new service needs to be meticulously crafted to maintain backward compatibility with the legacy API. Any potential breaking changes to the new service's API should only be implemented after the re-architecture process is complete"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.mermaid,{value:"  graph LR\n\n    subgraph legacy[Legacy System]\n      boundary[[Boundary]]\n    end\n\n    facade(Strangler Facade) <--\x3e boundary"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Re-architect"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Implement the new service and integrate it with the strangler facade"}),"\n",(0,s.jsx)(n.li,{children:"Dark launch the new service by diverting traffic between the new and legacy implementations"}),"\n",(0,s.jsx)(n.li,{children:"Initially, return responses from the legacy implementation while monitoring the behavior of the new implementation"}),"\n",(0,s.jsx)(n.li,{children:"Optionally, employ continuous deployment to deploy partial implementations of the new service to gain confidence and reduce risk"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.mermaid,{value:"  graph LR\n\n    subgraph legacy[Legacy System]\n      boundary{{Boundary}}\n    end\n\n    newService(New Service)\n\n    facade(Strangler Facade) <--\x3e boundary\n    facade --\x3e newService\n    newService --\x3e stop((\ud83d\udeab))"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cutover"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Once confident in the new implementation, switch production traffic to be served from the new implementation"}),"\n",(0,s.jsx)(n.li,{children:"Retain the legacy implementation for easy rollback if necessary"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.mermaid,{value:"  graph LR\n\n    subgraph legacy[Legacy System]\n      boundary{{Boundary}}\n    end\n\n    newService(New Service)\n\n    facade(Strangler Facade) <--\x3e newService\n    boundary --\x3e stop((\ud83d\udeab))"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Clean up"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Delete the legacy code that has been replaced once the new system is established"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.mermaid,{value:"  graph LR\n\n    legacy[Legacy System]\n\n    newService(New Service)\n\n    facade(Strangler Facade) <--\x3e newService"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Migrate clients to the new API and remove the strangler facade"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Manage the transition to the new API, potentially requiring breaking changes to clients"}),"\n",(0,s.jsx)(n.li,{children:"Expose the new API while maintaining the strangler facade for large client bases"}),"\n",(0,s.jsx)(n.li,{children:"Monitor usage of the strangler facade and assist clients in migrating to the new API"}),"\n",(0,s.jsx)(n.li,{children:"Remove the strangler facade once it's no longer in use"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.mermaid,{value:"  graph LR\n\n    legacy[Legacy System]\n\n    client(Client) <--\x3e newService(New Service)"})]}),(0,s.jsxs)(l.A,{value:"branch",label:"Branch by Abstraction",children:[(0,s.jsx)(n.mermaid,{value:"    graph TB\n\n    subgraph monolith[Monolith]\n        direction LR\n\n        invoicing(Invoicing) ----\x3e abstraction[[User Notifications Abstraction]]\n        payroll(Payroll) ----\x3e abstraction\n\n        existing(Existing user notifications functionality) --\x3e |implements| abstraction\n        provider(Service-provided user notifications) --\x3e |implements| abstraction\n        existing -.-> |active implementation -> active implementation switched -> inactive implementation| provider\n    end\n\n    provider --\x3e service{{User Notification Service}}"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Steps"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create an abstraction for the functionality that needs to be replaced"}),"\n",(0,s.jsx)(n.li,{children:"Modify clients of the existing functionality to use the new abstraction"}),"\n",(0,s.jsx)(n.li,{children:"Develop a new implementation of the abstraction with the reworked functionality"}),"\n",(0,s.jsx)(n.li,{children:"Switch over to using the new implementation by adapting the abstraction"}),"\n",(0,s.jsx)(n.li,{children:"Once the transition is complete and the new implementation is proven, clean up the abstraction"}),"\n",(0,s.jsx)(n.li,{children:"Remove the old implementation once it's no longer needed"}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"parallel",label:"Parallel Run",children:[(0,s.jsx)(n.mermaid,{value:"    graph TB\n\n    pricing(Pricing Requests)\n    pricing ~~~|all pricing requests duplicated and received by both systems| pricing\n\n    pricing --\x3e oldPricing[Old Pricing System]\n    pricing --\x3e newPricing[New Pricing System]\n\n    oldPricing --\x3e oldResults[(Results)]\n    newPricing --\x3e newResults[(Results)]\n\n    oldResults --\x3e daily[Daily comparison batch process]\n    newResults --\x3e daily[Daily comparison batch process]"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Instead of solely calling either the old or new implementation, both are called simultaneously"}),"\n",(0,s.jsx)(n.li,{children:"This enables comparison of results to ensure equivalence"}),"\n",(0,s.jsx)(n.li,{children:'Despite calling both, only one implementation is regarded as the "source of truth" at any moment'}),"\n",(0,s.jsx)(n.li,{children:"Initially, the old implementation serves as the source of truth until ongoing verification validates the reliability of the new implementation"}),"\n",(0,s.jsx)(n.li,{children:"This technique verifies not only the equivalence of results but also ensures that the new implementation operates within acceptable nonfunctional parameters"}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"decorating",label:"Decorating Collaborator",children:[(0,s.jsx)(n.mermaid,{value:"    graph TB\n\n    order(Order) --\x3e |Place Order - Request| proxy{{Proxy}}\n    proxy --\x3e |Order Placed - Response| order\n    proxy --\x3e monolith(Existing Monolith)\n    monolith --\x3e proxy\n\n    proxy -.-> |award loyalty points| loyalty(Loyalty Service)\n    loyalty -.-> |fetch order value| monolith"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It enables attaching new functionality to an object without the object being aware of it"}),"\n",(0,s.jsx)(n.li,{children:"By using a decorator, it seems as if the monolith is directly communicating with services, without altering the monolith itself"}),"\n",(0,s.jsx)(n.li,{children:"Instead of intercepting calls before reaching the monolith, the calls proceed normally"}),"\n",(0,s.jsx)(n.li,{children:"After the call, based on the result, external microservices can be invoked through any chosen collaboration mechanism"}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"capture",label:"Change Data Capture",children:[(0,s.jsx)(n.mermaid,{value:'    graph TB\n\n    monolith(Monolith) --\x3e |"INSERT INTO (id, loyalty_number) VALUES (1, 1234)"| database[(Database)]\n    database --\x3e |generate| loyalty(Loyalty Card)\n    database --\x3e |synchronize| marketing(Marketing Service)'}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"It involves reacting to changes made within a datastore rather than intercepting and acting on calls made into the monolith"}),"\n",(0,s.jsx)(n.li,{children:"The effectiveness of change data capture relies on coupling the underlying capture system to the monolith's datastore"}),"\n",(0,s.jsx)(n.li,{children:"Change data capture serves as a useful, versatile pattern, particularly for scenarios involving data replication"}),"\n",(0,s.jsx)(n.li,{children:"In the context of microservices migration, this approach is most beneficial when there's a need to respond to data changes within the monolith, but it's not feasible to intercept them at the system's perimeter using techniques like strangler or decorator, nor is it possible to modify the underlying codebase"}),"\n"]})]})]})}),(0,s.jsx)(l.A,{value:"scale",label:"Scale",children:(0,s.jsx)(n.mermaid,{value:'    graph TB\n\n    subgraph step1[ ]\n        direction TB\n\n        subgraph step1Server["Single Application Server (Monolith)"]\n            direction TB\n\n            step1Inventory(Inventory)\n            step1User(User)\n        end\n\n        step1Server --\x3e step1LocalDB[(Local DB<br/>Inventory & User Data)]\n    end\n\n    step1 --\x3e |split services & DB| step2\n\n    subgraph step2[ ]\n        direction TB\n\n        step2Inventory(Inventory) --\x3e step2DBInventory[(DB<br/>Inventory Table)]\n        step2User(User) --\x3e step2DBUser[(DB<br/>User Table)]\n    end\n\n    step2 --\x3e |split services into clusters| step3\n\n    subgraph step3[ ]\n        direction TB\n\n        subgraph step3Server1[Application Server]\n            direction TB\n\n            step3Server1Inventory(Inventory)\n            step3Server1User(User)\n        end\n\n        subgraph step3Server2[Application Server]\n            direction TB\n\n            step3Server2Inventory(Inventory)\n            step3Server2User(User)\n        end\n\n        step3Server1 & step3Server2 --\x3e step3DB[(DB<br/>Inventory & User Table)]\n    end\n\n    step3 --\x3e |add load balancer| step4\n\n    subgraph step4[ ]\n        direction TB\n\n        step4loadBalancer(Load Balancer) --\x3e step4Server1 & step4Server2\n\n        subgraph step4Server1[Application Server]\n            direction TB\n\n            step4Server1Inventory(Inventory)\n            step4Server1User(User)\n        end\n\n        subgraph step4Server2[Application Server]\n            direction TB\n\n            step4Server2Inventory(Inventory)\n            step4Server2User(User)\n        end\n\n        step4Server1 & step4Server2 --\x3e step4DB[(DB<br/>Inventory & User Table)]\n    end\n\n    step4 --\x3e |"separate DB read/write (CQRS)"| step5\n\n    subgraph step5[ ]\n        direction TB\n\n        step5loadBalancer(Load Balancer) --\x3e step5Server1 & step5Server2\n\n        subgraph step5Server1[Application Server]\n            direction TB\n\n            step5Server1Inventory(Inventory)\n            step5Server1User(User)\n        end\n\n        subgraph step5Server2[Application Server]\n            direction TB\n\n            step5Server2Inventory(Inventory)\n            step5Server2User(User)\n        end\n\n        step5Server1 & step5Server2 --\x3e step5DBRead[(Read DB<br/>Inventory & User Table)]\n        step5Server1 & step5Server2 --\x3e step5DBWrite[(Write DB<br/>Inventory & User Table)]\n    end\n\n    step5 --\x3e |DB vertical/horizontal partitioning<br/>add cache| step6\n\n    subgraph step6[ ]\n        direction TB\n\n        step6loadBalancer(Load Balancer) --\x3e step6Server1 & step6Server2\n\n        subgraph step6Server1[Application Server]\n            direction TB\n\n            step6Server1Inventory(Inventory)\n            step6Server1User(User)\n        end\n\n        subgraph step6Server2[Application Server]\n            direction TB\n\n            step6Server2Inventory(Inventory)\n            step6Server2User(User)\n        end\n\n        subgraph step6DbWrite[ ]\n            direction TB\n\n            step6DBWrite1[(Write DB)]\n            step6DBWrite2[(Write DB)]\n            step6DBWrite3[(Write DB)]\n        end\n\n        subgraph step6DbRead[ ]\n            direction TB\n\n            step6DBRead1[(Read DB)]\n            step6DBRead2[(Read DB)]\n        end\n\n       step6Server1 & step6Server2 --\x3e step6DbWrite\n       step6Server1 & step6Server2 --\x3e step6Cache[[Cache]]\n       step6DbRead --\x3e step6Cache\n    end\n\n    step6 --\x3e |split and modularize services| step7\n\n    subgraph step7[ ]\n        direction TB\n\n        step7loadBalancer(Load Balancer) --\x3e step7Product(Product) & step7Login(Login)\n\n        step7Product --\x3e step7Inventory(Inventory Service)\n        step7Login --\x3e step7User(User Service)\n\n        step7Inventory ---\x3e step7InventoryCache[[Cache]]\n        step7InventoryCache --\x3e step7InventoryDBWrite[(Write DB)]\n        step7InventoryDBRead[(Read DB)] --\x3e step7InventoryCache\n\n        step7User ---\x3e step7UserCache[[Cache]]\n        step7UserCache --\x3e step7UserDBWrite[(Write DB)]\n        step7UserDBRead[(Read DB)] --\x3e step7UserCache\n    end'})})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}}}]);