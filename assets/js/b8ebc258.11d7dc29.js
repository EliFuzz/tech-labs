"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[768],{53955:(s,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>d,default:()=>j,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var n=i(86070),r=i(27468),l=i(20301),t=i(35379);const a={title:"Real World Examples",description:"Real World Design Pattern Examples",hide_table_of_contents:!0},d=void 0,c={id:"education/system-design/real-world",title:"Real World Examples",description:"Real World Design Pattern Examples",source:"@site/docs/education/04-system-design/12-real-world.mdx",sourceDirName:"education/04-system-design",slug:"/education/system-design/real-world",permalink:"/tech-labs/docs/education/system-design/real-world",draft:!1,unlisted:!1,editUrl:"https://github.com/EliFuzz/tech-labs/docs/education/04-system-design/12-real-world.mdx",tags:[],version:"current",sidebarPosition:12,frontMatter:{title:"Real World Examples",description:"Real World Design Pattern Examples",hide_table_of_contents:!0},sidebar:"education",previous:{title:"Design Principles",permalink:"/tech-labs/docs/education/system-design/design-principles"}},o={},h=[{value:"Clarifications",id:"clarifications",level:3},{value:"Assumptions",id:"assumptions",level:3},{value:"Clarifications",id:"clarifications-1",level:3},{value:"Assumptions",id:"assumptions-1",level:3},{value:"Estimations",id:"estimations",level:3},{value:"Considerations",id:"considerations",level:3},{value:"Assumptions",id:"assumptions-2",level:3},{value:"Estimations",id:"estimations-1",level:3},{value:"Clarifications",id:"clarifications-2",level:3},{value:"Considerations",id:"considerations-1",level:3},{value:"Clarifications",id:"clarifications-3",level:3},{value:"Assumptions",id:"assumptions-3",level:3},{value:"Estimations",id:"estimations-2",level:3},{value:"Clarifications",id:"clarifications-4",level:3},{value:"Assumptions",id:"assumptions-4",level:3},{value:"Estimations",id:"estimations-3",level:3},{value:"Clarifications",id:"clarifications-5",level:3},{value:"Assumptions",id:"assumptions-5",level:3},{value:"Estimations",id:"estimations-4",level:3},{value:"Clarifications",id:"clarifications-6",level:3},{value:"Assumptions",id:"assumptions-6",level:3},{value:"Estimations",id:"estimations-5",level:3}];function x(s){const e={code:"code",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...s.components};return(0,n.jsxs)(l.A,{queryString:"primary",children:[(0,n.jsx)(t.A,{value:"basic",label:"Basic",children:(0,n.jsxs)(l.A,{queryString:"secondary",children:[(0,n.jsxs)(t.A,{value:"chat",label:"Chat",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(87145).A+"",width:"1237",height:"428"})}),(0,n.jsx)(e.h3,{id:"clarifications",children:"Clarifications"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"App Type:"})," Both 1-on-1 and group chat"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Platform:"})," Mobile & Web"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Scale:"})," 50M DAU"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Group Size:"})," Max 100 members"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Features:"})," Basic (text chat, online indicator) - No attachments for now"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Message Length:"})," Up to 100,000 characters"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Encryption:"})," Not required (discuss later)"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"History:"})," Saved forever"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"assumptions",children:"Assumptions"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"1:1 Chat:"})," Messages arrive quickly between 2 people"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Group Chat:"})," Up to 100 people in a group chat"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Online Status:"})," See if friends are available"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Multi-Device:"})," Use on multiple devices at once"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Push Notifications:"})," Get alerts for new messages"]}),"\n"]})]}),(0,n.jsx)(t.A,{value:"email",label:"Email",children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(34997).A+"",width:"604",height:"458"})})}),(0,n.jsxs)(t.A,{value:"file-storage",label:"File Storage",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(99933).A+"",width:"1158",height:"539"})}),(0,n.jsx)(e.h3,{id:"clarifications-1",children:"Clarifications"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Features:"})," Upload, download, sync files, get notifications"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Platform:"})," Mobile & Web"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"File Types:"})," All supported"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Encryption:"})," Encrypted storage"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Size Limit:"})," Up to 10GB per file"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Users:"})," 10M DAU"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"assumptions-1",children:"Assumptions"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Core Features:"})," Drag-and-Drop upload, download, multi-device sync, revision history"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Sharing & Notifications:"})," Share files and get alerts on edits/changes"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Fast & Efficient:"})," Quick file sync with minimal bandwidth use"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Rock-Solid Reliability:"})," No data loss"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Load:"})," HA and scalability"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"estimations",children:"Estimations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Storage Allocation"}),": ",(0,n.jsx)(e.code,{children:"50M (users) * 10GB (space allocation / user) = 500 PT/month"})]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Upload Load"}),": ",(0,n.jsx)(e.code,{children:"10M (users) * 2 (upload/day) 24 (hours) / 3600 (seconds) = 240 upload/sec"})," and Peak QPS: ",(0,n.jsx)(e.code,{children:"QPS * 2 (peak ratio) = 480 upload/sec"})]}),"\n"]})]}),(0,n.jsxs)(t.A,{value:"metrics-monitoring",label:"Metrics & Monitoring",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(34825).A+"",width:"856",height:"358"})}),(0,n.jsx)(e.h3,{id:"considerations",children:"Considerations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"Collect metrics from various sources (servers, databases)"}),"\n",(0,n.jsx)(e.li,{children:"Store and query time-series data (time-series database + Kafka)"}),"\n",(0,n.jsx)(e.li,{children:"Process and analyze data (Apache Storm, Flink, Spark)"}),"\n",(0,n.jsx)(e.li,{children:"Retrieve, visualize, and get alerted on metrics (query service, visualization system, alerting system)"}),"\n"]})]}),(0,n.jsxs)(t.A,{value:"news-feed",label:"News Feed",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(20107).A+"",width:"599",height:"617"})}),(0,n.jsx)(e.h3,{id:"assumptions-2",children:"Assumptions"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Functionality:"})," Post, Get Feed, Update Feed"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Focus:"})," Text and not on large media"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Ranking Assumed:"})," Existing system already ranks posts"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Global Reach:"})," Serves 1B users worldwide"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Share:"})," 500 friends per user"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Post Speed:"})," Varies by location (1s - 1 minute)"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Availability:"})," Ensures posts aren't lost, but not guaranteed uptime"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Ads (Bonus):"})," Optional addition of advertisements"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"estimations-1",children:"Estimations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"News Feed Size"}),": ",(0,n.jsx)(e.code,{children:"1K (posts) * 10Kb (post size) = 10 MB"})]}),"\n"]}),(0,n.jsx)(e.h3,{id:"clarifications-2",children:"Clarifications"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Platform:"})," Mobile & Web"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Key Feature:"})," Users post and see friends' posts in a news feed"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Feed Order:"})," Newest first"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Friend Limit:"})," Up to 5k friends per user"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Traffic:"})," 10M DAU"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Feed Content:"})," Text, images, and videos"]}),"\n"]})]}),(0,n.jsxs)(t.A,{value:"peak-season",label:"Peak Season",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(10880).A+"",width:"237",height:"468"})}),(0,n.jsx)(e.h3,{id:"considerations-1",children:"Considerations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Block Bots & DDoS"}),": Use reCaptcha & rate limiting"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Fast Loading"}),": Minify & CDN deliver CSS/JS/Images"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Scale on Demand"}),": Spin up isolated dedicated instances & use queues"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Prevent Overselling"}),": Lock inventory on order"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Fast Cache"}),": Use cache & manage inventory"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Minimize & Optimize"}),": Reduce RPC, hops, & streamline services"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Isolate Content"}),": Separate static/dynamic & isolate uncommon items"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Accurate Confirmation"}),": Show true stock availability"]}),"\n"]})]}),(0,n.jsx)(t.A,{value:"rate-limiter",label:"Rate Limiter",children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(36890).A+"",width:"430",height:"228"})})}),(0,n.jsxs)(t.A,{value:"typeahead-suggestion",label:"Typeahead Suggestion",attributes:{className:"tabs__vertical"},children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(23483).A+"",width:"570",height:"932"})}),(0,n.jsx)(e.h3,{id:"clarifications-3",children:"Clarifications"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Match Start Only:"})," Autocomplete suggestions only appear at the beginning of queries"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Top 5 Picks:"})," Show 5 most popular suggestions based on past searches"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"No Spell Check:"})," Focuses on displaying popular suggestions, not correcting typos"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Language Support:"})," English for now, multi-language can be discussed later"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Lowercase Letters:"})," Search queries are assumed to be lowercase with no special characters"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Traffic:"})," Used by 10M DAU"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Workflow:"})," Each time you enter a character it'll send a request to a backend service to get suggestions: ",(0,n.jsx)(e.code,{children:"/search?q=f"})," -> ",(0,n.jsx)(e.code,{children:"/search?q=fo"})," -> ",(0,n.jsx)(e.code,{children:"/search?q=foo"})]}),"\n"]}),(0,n.jsx)(e.h3,{id:"assumptions-3",children:"Assumptions"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Performance:"})," Autocomplete suggestions must appear within ",(0,n.jsx)(e.code,{children:"100ms"})," to avoid lag"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Relevance:"})," Suggestions should be related to the search terms"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Ranked:"})," Show more popular suggestions first"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Scalability:"})," HA, scalability, and fault tolerance considerations"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Encoding"}),": UTF-8"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"estimations-2",children:"Estimations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Query Size"}),": ",(0,n.jsx)(e.code,{children:"4 (words) * 5 (characters) * 1 (byte/character) = 20 bytes/query"})]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Load"}),": QPS: ",(0,n.jsx)(e.code,{children:"10M (users) * 10 (queries/day) * 20 (characters) / 24 (hours) / 3600 (seconds) = 24K query/sec"})," and Peak QPS: ",(0,n.jsx)(e.code,{children:"QPS * 2 (peak ratio) = 48K query/sec"})]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Storage"}),": ",(0,n.jsx)(e.code,{children:"10M (users) * 10 (queries/day) * 20 (bytes/query) * 20% (new users) = 0.4 GB/day"})]}),"\n"]})]}),(0,n.jsxs)(t.A,{value:"url-shortener",label:"URL Shortener",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(14091).A+"",width:"736",height:"638"})}),(0,n.jsx)(e.h3,{id:"clarifications-4",children:"Clarifications"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Shortener:"})," Long URL (e.g. ",(0,n.jsx)(e.code,{children:"https://www.myweb.com/learn/system-design/"}),") to short one (",(0,n.jsx)(e.code,{children:"https://tinyurl.com/app"}),"). Clicking short link goes to the original long URL"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Volume:"})," 100M shortened URLs generated daily"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Length:"})," Short as possible"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Characters:"})," Numbers (0-9) and letters (a-z, A-Z)"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"assumptions-4",children:"Assumptions"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"URL shortening"}),": given a long URL \u2192 return a much shorter URL"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"URL redirecting"}),": given a shorter URL \u2192 redirect to the original URL"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Characters"}),": ",(0,n.jsx)(e.code,{children:"[A-Za-z0-9]"})]}),"\n",(0,n.jsx)(e.li,{children:"HA, scalability, and fault tolerance considerations, with distributed architecture"}),"\n"]}),(0,n.jsx)(e.h3,{id:"estimations-3",children:"Estimations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"URL Shortener"}),": ",(0,n.jsx)(e.code,{children:"62 characters ([A-Za-z0-9]) ^ 7 (letters for short URL) = 3.5 trillion (URLs)"})]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Write operation"}),": 100M URLs/day \u2192 ",(0,n.jsx)(e.code,{children:"100M (URLs) / 24 (hours) / 3600 (seconds) = 1160"})," (URLs/sec)"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Read operation"}),": assuming ratio of read operation to write operation is ",(0,n.jsx)(e.code,{children:"10:1"})," \u2192 ",(0,n.jsx)(e.code,{children:"1160 (writes/sec) * 10 (reads ratio) = 11,600 (reads/sec)"})]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Storage requirement"}),": average URL length is ",(0,n.jsx)(e.code,{children:"100 bytes"})," with ",(0,n.jsx)(e.code,{children:"10 years"})," of data storage: ",(0,n.jsx)(e.code,{children:"100M (URLs) * 365 (days) * 10 (years) * 100 (bytes) = 365TB"})]}),"\n"]})]}),(0,n.jsxs)(t.A,{value:"video-platform",label:"Video Platform",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(71660).A+"",width:"973",height:"1164"})}),(0,n.jsx)(e.h3,{id:"clarifications-5",children:"Clarifications"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Features:"})," Upload & watch videos"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Clients:"})," Mobile, web, smart TV"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Users:"})," 5M DAU"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Engagement:"})," 30 min/day"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Global:"})," Supports international users"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Playback:"})," Accepts most resolutions/formats"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Security:"})," Encrypted videos"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Upload Limit:"})," Max 1GB videos (focuses on smaller sizes)"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Cloud Storage:"})," Consider leveraging existing services (AWS, Google Cloud, Azure)"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"assumptions-5",children:"Assumptions"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Fast Uploads:"})," Videos upload quickly"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Seamless Streaming:"})," Videos play smoothly without buffering"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Quality Control:"})," Lets users adjust video quality"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Cost-Effective:"})," Needs low infrastructure costs"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Scalability:"})," HA, scalable, and reliable"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Multi-Platform:"})," Works on mobile apps, web browsers, and smart TVs"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"estimations-4",children:"Estimations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Storage"}),": ",(0,n.jsx)(e.code,{children:"5M (users) * 10% (users upload 1 video/day) * 300MB (video) = 150 TB/day"})]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"CDN Costs"}),": ",(0,n.jsx)(e.code,{children:"5M (users) * 5 (videos) * 300MB (video) * 0.02 (CDN cost $/GB) = 750k $/day"})]}),"\n"]})]}),(0,n.jsxs)(t.A,{value:"web-crawler",label:"Web Crawler",children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(84076).A+"",width:"462",height:"776"})}),(0,n.jsx)(e.h3,{id:"clarifications-6",children:"Clarifications"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Crawling Goal:"})," Search Engine Indexing"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Monthly Intake:"})," 1B pages"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Content Type:"})," HTML only"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Freshness:"})," Include new & edited pages"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Storage:"})," Keep crawled HTML for 5 years"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Duplicates:"})," Ignore duplicate content"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"assumptions-6",children:"Assumptions"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Scale Up:"})," Handle billions of web pages with parallelization (running tasks simultaneously)"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Handle the Weird:"})," Expect broken code, slow servers, crashes, and bad actors. The crawler must adapt"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Be Nice:"})," Don't overload websites with too many requests at once based on the website"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Future-Proof:"})," Easily add new content types (like images) without a major overhaul"]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Crawl:"})," Use BFS algorithm"]}),"\n"]}),(0,n.jsx)(e.h3,{id:"estimations-5",children:"Estimations"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Load"}),": QPS: ",(0,n.jsx)(e.code,{children:"1M (pages) / 30 (days) / 24 (hours) / 3600 (seconds) = 400 pages/sec"})," and Peak QPS: ",(0,n.jsx)(e.code,{children:"QPS * 2 (peak ratio) = 800 pages/sec"})]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Storage"}),": ",(0,n.jsx)(e.code,{children:"1B (pages) * 500kb (page size) = 500 TB/month"})," for 5 years ",(0,n.jsx)(e.code,{children:"500 (TB/month) * 12 (months) * 5 (years) = 30 PB"})]}),"\n"]})]})]})}),(0,n.jsx)(t.A,{value:"systems",label:"Systems",children:(0,n.jsxs)(l.A,{queryString:"secondary",children:[(0,n.jsx)(t.A,{value:"disney-hotstar",label:"Disney Hotstar",attributes:{className:"tabs__vertical"},children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(12009).A+"",width:"714",height:"310"})})}),(0,n.jsx)(t.A,{value:"netflix-play-api",label:"Netflix Play API",children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(55195).A+"",width:"848",height:"999"})})}),(0,n.jsx)(t.A,{value:"stackoverflow",label:"StackOverflow",children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(5332).A+"",width:"254",height:"216"})})}),(0,n.jsx)(t.A,{value:"twitter",label:"Twitter (2022)",children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(26356).A+"",width:"1388",height:"691"})})}),(0,n.jsx)(t.A,{value:"uber-live-chat",label:"Uber Live Chat",children:(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:i(43477).A+"",width:"743",height:"1584"})})})]})})]})}function j(s={}){const{wrapper:e}={...(0,r.R)(),...s.components};return e?(0,n.jsx)(e,{...s,children:(0,n.jsx)(x,{...s})}):x(s)}},87145:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/chat-ec142af2f227445cca9f1f7af193e74a.svg"},34997:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/email-32c338535ec8194f9bd350f1e563fc09.svg"},99933:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/file-storage-62754a782d9b3da77dd4006e0dd3562b.svg"},34825:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/metrics-monitoring-cc9886c6abcbe7a1dd85afb407d5e5e2.svg"},20107:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/news-feed-19da0f4e9afb2637175efdc7bf9e7e32.svg"},10880:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/peak-season-479a3b5cf55fb8eb4d5d3dc265a13aaa.svg"},36890:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/rate-limiter-0207703a1af336091b444365691e6317.svg"},23483:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/typeahead-suggestion-f2b38303dadaa4dcbd8c1d02bacfab32.svg"},14091:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/url-shortener-508d34873589ed4b6ec54224ef53108d.svg"},71660:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/video-platform-e6e1df38b4d157218ea5a0f8d9c42738.svg"},84076:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/web-crawler-29ef968e7c776091344706fb6fe5cf2b.svg"},12009:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/disney-hotstar-23034f7b575acfd99efb9a7d5d5fd1a4.svg"},55195:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/netflix-play-api-5a9d5220b99b672a5eac88d9cc618027.svg"},5332:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/stack-overflow-7ab6224e15c3d933448dfac4d4d1b33f.svg"},26356:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/twitter-5fff023481d68ae6a5fb75b83b7a8fff.svg"},43477:(s,e,i)=>{i.d(e,{A:()=>n});const n=i.p+"assets/images/uber-live-chat-ef1be1dd6b497d4a092ada3224c71bf7.svg"}}]);